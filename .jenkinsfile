pipeline {
  agent any

  stages {
    stage('--------------------- delete workspace -----------------------') {
      steps {
        echo "deleting workspace"
        deleteDir()
      }
    }
    stage('--------------------- test 1 --------------------') {
      steps {
        sh '''
          pwd
          ls -la
        '''
      }
    }
    stage('---------------------------- checkout ------------------------------') {
      steps {
        git branch: "master",
        url: "https://github.com/sarkazi/test_jenkins_deploy.git"
      }
    }
    stage('--------------------- test 2 --------------------') {
      steps {
        sh '''
          pwd
          ls -la
        '''
      }
    }
     stage('--------------------- docker build --------------------') {
      steps {
        sh '''
          docker build --file Dockerfile.dev -t nikookin/was-server-test:0.1 .
        '''
      }
    }
  }
}

  
